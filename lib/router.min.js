(()=>{var y=class{toString(){let o=Math.round(Math.random()*1e6).toString(36);return this.id=this.id||`ref-${o}`}get current(){if(typeof window!="undefined")return document.querySelector(`[ref=${this.id}]`)}},p=()=>new y;var u=new Map;var U=({className:e,name:o})=>{let t=p();return setTimeout(()=>{if(typeof window=="undefined")return;let n=document.getElementById(`sprite-${o}`).getAttribute("viewBox");t.current?.setAttribute("viewBox",n)}),`
    <svg class="${e}" preserveAspectRatio="xMidYMid meet" viewBox="${u.get(o)?.viewBox||"0 0 0 0"}" ref="${t}">
      <use xlink:href="#sprite-${o}" />
    </svg>
  `},a=U;var h=0,k=!1,$="\u{1F34F},\u{1F330},\u{1F34B},\u{1F345},\u{1F346},\u{1F347},\u{1F353},\u{1F349},\u{1F350},\u{1F352},\u{1F351},\u{1F951}".split(","),{floor:q,random:K}=Math,D=e=>e[q(K()*e.length)],x=()=>{if(k)return;let[e,o,t]=[$,$,$].flatMap(D);if(e==o&&o==t){k=!0;let n=`You won in ${h} tries`;setTimeout(()=>{typeof window!="undefined"&&alert(n),k=!1},100),h=0}else h++;return`${e} ${o} ${t}`},z=()=>{let e=p();return setTimeout(()=>{e.current?.addEventListener("click",()=>{e.current.innerHTML=x()}),typeof window!="undefined"&&document.addEventListener("keyup",o=>{o.isComposing||o.keyCode===229||o.which!==13&&o.which!==32||(e.current.innerHTML=x())})}),`
    <center class="slot-machine">
      ${a({name:"slot-machine-icon",className:"slot-machine__icon"})}
      <span class="slot-machine__reels" ref="${e}">${x()}</span>
    </center>
  `},O=z;var J={"image/webp":"webp","image/jpeg":"jpg","image/png":"png"},V=({types:e,sizes:o,src:t})=>Object.entries(J).filter(([n,s])=>e.includes(s)).flatMap(([n,s])=>`
    <source type="${n}" srcset="${o.split(",").map(r=>t.replace(new RegExp(`.(${e})$`),`_${r}.${s} ${r}w`))}" />
  `).join(""),X=e=>{let{src:o,ratio:t,sizes:n,types:s="png|webp",loading:r,alt:c="",itemprop:g,className:F=""}=e,[H,G]=t.split(":");return`
    <picture class="${F}">
      ${V({types:s,sizes:n,src:o})}
      <img src="${s.includes("webp")?o.replace(/\..*$/,".webp"):o}" width="${H}" height="${G}" loading="${r}" alt="${c}" itemprop="${g}" />
    </picture>
  `},I=X;var R=`                                  
            ....  .               
        .................         
       .'......''',,'.....        
      ....,',loloxxddo;....       
      ...:odkOOOOOkkxdo;...       
      . .coxkOOOOOOkkxdl...       
       ..coolccoxxo:,,;c;'.       
       ,'coc;,:cdkccllodl:,       
       .dldkkkkxdOodxkkdlc.       
        ':oddloocdlclccl:.        
          ;lcl:cllcc,coc.         
           'codllllcloc.          
           lc:cdxxxxdcl:..        
         .lOkxocccc:clkk:o;,'..   
    ..,:ldx0KK0kdolldOOOxxxxxkkxoc
  ,lxxkxxxk0KKXXKxo0K000kkkkkkOOOO
`;var Y=()=>`
    <header class="header">
      <a href="#home" class="header__avatar" alt="avatar">${I({itemprop:"photo",src:"home/images/artursjansons.jpg",ratio:"1:1",sizes:"432,216,64",types:"jpg|png|webp",alt:R})}</a>
    </header>
  `,v=Y;var Q=e=>{let{className:o="link",children:t,tag:n="a",to:s="#",title:r=""}=e;return`
      <${n} class="${o} link" href="${s}" title="${r}">
        ${t?.join("")}
      </${n}>
    `},i=Q;var W=e=>{let{className:o="",children:t,squire:n,tag:s="div"}=e,r="link-list";return o&&(r+=` ${o}`),n&&(r+=" link-list--squire"),`
      <${s} class="${r}">
        ${t?.map(c=>`<div class="link-list__item">${c}</div>`).join("")}
      </${s}>
    `},m=W;var Z=()=>`
    ${v()}
    <article lang="en">
      <section id="home" itemscope itemtype="https://schema.org/Person">
        <header>
          <h2 itemprop="name" class="h2">
            <span itemprop="givenName">Art\u016Brs</span>
            <span itemprop="familyName">Jansons</span>
          </h2>
          <span itemprop="jobTitle" class="subtitle">Software Developer</span>
          <br>
            <span itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
              <span itemprop="addressLocality">\u{1F1F9}\u{1F1F7} Alanya, Turkey</span>
            </span>
            <a href="callto:+905340658509"><i class="fa fa-whatsapp"></i><span itemprop="telephone">+9-053-406-58-509</span></a>
            <a href="mailto:a.jansons+github@gmail.com?title=iegik.github.io:contact" itemprop="email">a.jansons@gmail.com</a>
          ${m({squire:!0,children:[i({to:"https://linkedin.com/in/iegik",title:"LinkedIn",children:[a({name:"linkedin-icon",className:"link-list__icon"})]}),i({to:"https://github.com/iegik",title:"GitHub",children:[a({name:"github-icon",className:"link-list__icon"})]}),i({to:"https://profile.codersrank.io/user/iegik",title:"Coders Rank",children:[a({name:"codersrank-icon",className:"link-list__icon"})]}),i({to:"https://jsfiddle.net/user/iegik",title:"JSFiddle",children:[a({name:"jsfiddle-icon",className:"link-list__icon"})]}),i({to:"https://stackoverflow.com/users/771471/iegik",title:"Stack Overflow",children:[a({name:"stackoverflow-icon",className:"link-list__icon"})]})]})}
          <div class="network">
            ${i({to:"#/login",title:"Login",children:["\u{1F6AA}"]})}
          </div>
        </header>
      </section>
    </article>
    <footer>
      ${O()}
    </footer>
  `,w=Z;var ee=e=>{let{className:o="",children:t,tag:n="button",onClick:s,type:r}=e,c=p();return setTimeout(()=>{s&&c.current?.addEventListener("click",s)}),`
      <${n} class="${o}" ref="${c}" type="${r}">
        ${t?.join("")}
      </${n}>
    `},S=ee;var l="ae0dcffd947e0ca15a12",_="user repo",f="Access token not provided";var C="^[\\d\\w\\-\\.]+$",Qe=new RegExp(C);var oe=()=>{let e=document.querySelector('[name="login"]');if(e.validity.valid===!1)return;let o=e?.value,t=btoa(+new Date).slice(10,18);sessionStorage.setItem("state",t);let n=`https://github.com/login/oauth/authorize?client_id=${l}&login=${encodeURIComponent(o)}&scope=${encodeURIComponent(_)}&state=${t}`;console.info(`Navigated to ${n}`,{client_id:l,scope:_,state:t}),document.location.href=n},te=()=>`
    <div class="login">
      <form>
        <input type="text" name="login" placeholder="username" pattern="${C}" />
        ${S({className:"login__btn",children:["Login with ",a({name:"github-logo",className:"login__btn__icon"})],onClick:oe,type:"submit"})}
      </form>
    </div>
  `,b=te;var ne=async e=>{console.debug("Requesting access_token",{code:e,client_id:l});let{access_token:o,scope:t,token_type:n}=await fetch(`https://qilg4ch66b3vpgtevzccb5meum0ttfcl.lambda-url.eu-north-1.on.aws/?code=${e}&client_id=${l}`).then(s=>s.json());sessionStorage.setItem("access_token",o),sessionStorage.setItem("scope",t),sessionStorage.setItem("token_type",n),document.location.href="/#/profile"},se=()=>(setTimeout(()=>{let{protocol:e,hash:o,search:t}=location,n=sessionStorage.getItem("state"),s=sessionStorage.getItem("code");console.debug("Checking GET params",{protocol:e,hash:o,search:t,state:n});let r=new URLSearchParams(t);if(r.get("state")!==n)return history.go(-2);ne(r.get("code"))}),"Loading..."),T=se;var j=({avatar_url:e,login:o}={})=>{let t=p();return setTimeout(()=>{let n=sessionStorage.getItem("access_token"),s=sessionStorage.getItem("token_type"),r=async()=>{console.debug("Requesting user",{access_token:n,token_type:s});let c=await fetch("https://api.github.com/user",{method:"GET",headers:{Authorization:`${s} ${n}`}}).then(g=>g.json());return console.debug("User data",{data:c}),c};if(!n)throw Error(f);o||r().then(c=>{t.current.innerHTML=j(c)})}),`
    <div class="user-info" ref="${t}">
      ${e&&`<img src="${e}" />`}
      ${o&&`<span>${o}</span>`}
    </div>
  `},A=j;var re=()=>`
    <div class="login">
      ${A()}
    </div>
  `,L=re;var ie=({message:e,children:o})=>`
  <div class="error">
    <div class="card error__card">
      <p>${e}</p>
      ${m({children:o})}
    </div>
  </div>
`,d=ie;var N=e=>d({message:e.message,children:[i({to:"#/login",title:"Go to login page",children:["Log in"]})]});var M=(e={message:"Page not found"})=>d({message:e.message,children:[i({to:"#",title:"Go to home page",children:["Home"]}),i({to:"javascript:history.go(-1)",title:"Go back",children:["Back"]})]});var P=e=>d({message:e.message,children:[i({to:"javascript:location.reload()",title:"Go to login page",children:["Log in"]}),i({to:"javascript:history.go(-1)",title:"Go back",children:["Back"]})]});var ce=(e="/")=>{switch(console.info(`Loading ${e}`),!0){case/^\/login$/.test(e):return b;case/^\/oauth$/.test(e):return T;case/^\/profile$/.test(e):return L;case(e==="/"||e===""):return w;default:return M}},B=({error:e})=>{if(e.code==="ERR_BUFFER_OUT_OF_BOUNDS"){console.debug("Out of buffer bounds:"),console.error(e),typeof process!="undefined"&&process.exit(1);return}if(e.code==="ERR_ASSERTION"){console.debug("Assert error:"),console.error(e),typeof process!="undefined"&&process.exit(1);return}if(e.message===f){console.debug("Access token error handled:"),console.error(e),document.getElementById("root").innerHTML=N(e);return}console.debug("Error handled:"),console.error(e),document.getElementById("root").innerHTML=P(e)},E=e=>{if(window?.document){let{protocol:o,hash:t}=new URL(e?.destination?.url||document.location),n=t.slice(1);addEventListener("error",B),document.getElementById("root").innerHTML=ce(n)()}};window.history.pushState=new Proxy(window.history.pushState,{apply:(e,o,t)=>(console.debug("pushState",{target:e}),E(),e.apply(o,t))});typeof process!="undefined"&&process.on("uncaughtException",B);navigation.addEventListener("navigate",E);E();})();
//# sourceMappingURL=router.min.js.map
