(()=>{var he=Object.defineProperty;var xe=(e,o)=>()=>(o||(o={exports:{}},e(o.exports,o)),o.exports),ke=(e,o)=>{for(var t in o)he(e,t,{get:o[t],enumerable:!0})};var ae=xe(($t,ce)=>{ce.exports=`XkddodddddddoxxxxxxxdddxxxxxkxxkKKK0dloo
MOddddxxxxxdokkkkkkkkkdddddxxxdxNNNXxodo
MOddddddxxxdoxkkkxxkkkkkkkxxxddxXMMNOddd
Wkddodxddxdxkkkkxxoc:;coxkxxdddd0MMW0xld
::::cddddodxkol:,'......'';:codolxxxdlcl
ooodxxkxc:;'...................'ccccc::c
xxdxxxxc;........',,;;;,,'......:xxxxddd
kkkxkkx,...',;;,'',:clc;'',;:,..:lc:::::
xxxxxxx:..:kxlc;,:cokOxl:,;cox;cllllllll
xxkxxdddddxKK0OkkkkO0K0OOkO0KKkdollllccl
oodxxxddkdkKKKOxoodlccccdoldO0Odoooollll
ooooxxxxkKx0kxc::c::;;;:cc::oxOxdoolllll
oooooddddxoOOxc,,;coxxxdc;,,oxdodollllcc
oooodddddoooxxl:oxkxdddxkxcodoooolllllcc
oddl::;;:::;;:;;cdkxlclxOdc:lllllllllllc
ddd;.........'..,:llc:cdl:'.;llllloollll
dddl;,:;,.........''',;;''..:oooolollllc
oodl,c:cc:;,'''... ........:oooddlllllll
llcc:;:::::::;,'''........coolooooolllll
ccccc,;:c:;,,''',,,'..',',oooolllooolllc
`});var we=(e={})=>{let{className:o="",children:t,squire:r,tag:n="div"}=e,i="link-list";return o&&(i+=` ${o}`),r&&(i+=" link-list--squire"),`
      <${n} class="${i}">
        ${t?.map(s=>`<div class="link-list__item">${s}</div>`).join("")}
      </${n}>
    `},y=we;var ve=({message:e,children:o}={message:"Unknown error"})=>`
  <div class="error">
    <div class="card error__card">
      <p>${e}</p>
      ${y({children:o})}
    </div>
  </div>
`,h=ve;var $e=(e={})=>{let{className:o="link",children:t,tag:r="a",to:n="#",title:i="",onClick:s}=e,a=g();return setTimeout(()=>{s&&a.current&&a.current.addEventListener("click",s)}),`
      <${r} class="${o} link" href="${n}" title="${i}" ref="${a}">
        ${t?.join?.("")}
      </${r}>
    `},c=$e;var K=e=>h({message:e.message,children:[c({to:"#/login",title:"Go to login page",children:["Log in"]})]});var x="ae0dcffd947e0ca15a12",N="user repo",B="Access token not provided",m="Page not found",M="Wrong request";var G=(e={message:m})=>h({message:e.message,children:[c({to:"#",title:"Go to home page",children:["Home"]}),c({onClick:()=>{history.go(-1)},title:"Go back",children:["Back"]})]});var z=e=>h({message:e.message,children:[c({onClick:()=>{location.reload()},title:"Reload",children:["Reload"]}),c({onClick:()=>{history.go(-1)},title:"Go back",children:["Back"]})]});var R=!1;var E=e=>{if(typeof window=="undefined")return;R&&typeof Sentry!="undefined"&&Sentry.captureException(e);let o=document.getElementById("root");if(o!=null){if(e.message===m){o.innerHTML=G(e);return}if(e.message===B){o.innerHTML=K(e);return}o.innerHTML=z(e)}},l=R?()=>{}:(...e)=>{console.debug(...e)};var d=R?()=>{}:(...e)=>{console.info(...e)},$=R?()=>{}:(...e)=>{console.log(...e)};var k=e=>{let{protocol:o,hash:t,pathname:r}=new URL(`${e?.destination?.url||document.location}`);return`${r.replace("index.html","")}${t.slice(2)}`},V=e=>e.replace(/[&<"']/g,o=>{switch(o){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}});var be=async e=>{if(!e)return;l("Requesting access_token",{code:e,clientId:x});let{access_token:o,scope:t,token_type:r}=await fetch(`https://qilg4ch66b3vpgtevzccb5meum0ttfcl.lambda-url.eu-north-1.on.aws/?code=${e}&client_id=${x}`).then(n=>n.json());window.sessionStorage?.setItem("access_token",o),window.sessionStorage?.setItem("scope",t),window.sessionStorage?.setItem("token_type",r),document.location.href="/#/profile"},ye=async e=>{let{protocol:o,hash:t,search:r}=location,n=window.sessionStorage?.getItem("state"),i=window.sessionStorage?.getItem("code");l("Checking GET params",{protocol:o,hash:t,search:r,state:n});let s=new URLSearchParams(r);if(s.get("state")!==n)return window.history?.go(-2);be(s.get("code")||void 0)},J=ye;var X=`query RepoFile($repo_owner: String!, $repo_name: String!, $object_path: String!) {
  repository(owner: $repo_owner, name: $repo_name) {
    object(expression: $object_path) {
      ... on Blob {
        byteSize
        text
      }
    }
  }
}
# {
#   "repo_name": "iegik.github.com",
#   "repo_owner": "iegik",
#   "object_path": "gh-pages: data/home.json"
# }`;var Q=`query GetUser($login:String!) {
  user(login: $login) {
    avatarUrl
    login
  }
}
`;var Re=async e=>{let{data:o,errors:t}=await e.json();if(t)throw t[0];return o},j=class{constructor(){this.repoName="iegik.github.com";this.repoOwner="iegik";this.storeRoot="gh-pages:data"}static getInstance(){return this.instance}async request({query:o,variables:t}){if(typeof window=="undefined")return;let r=window.sessionStorage?.getItem("access_token"),n=window.sessionStorage?.getItem("token_type"),i=await fetch("https://api.github.com/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`${n} ${r}`},body:JSON.stringify({query:o,variables:t})});return Re(i)}async getFile(o){let t=await this.request({query:X,variables:{repo_name:this.repoName,repo_owner:this.repoOwner,object_path:`${this.storeRoot}${o}.json`}});if(!t)throw Error(M);let{repository:{object:r}}=t;if(!r)throw Error(m);let{text:n}=r;return JSON.parse(n)}async getUserInfo(){let{user:o}=await this.request({query:Q,variables:{login:this.repoOwner}});if(!o)throw Error(M);return o}},T=j;T.instance=new j;var _=T;var Ee=async e=>{let[{isLoaded:o},t]=f();o||(async()=>{let n=k(),i=await _.getInstance().getFile(n);t({data:i,isLoaded:!0})})()},W=Ee;var _e=e=>e.json(),P=class{constructor(){}static getInstance(){return this.instance}async request(o){let t=await fetch(`${location.protocol}//${location.host}/data${o}`,{headers:{"Content-Type":"application/json",Accept:"application/json"}});return _e(t)}async getFile(o){let t=await this.request(`${o}.json`);if(!t)throw Error(m);return t}},C=P;C.instance=new P;var Y=C;var Le=async e=>{let[o={},t]=f();d("PreviewService",{state:o,setUserInfo:t});let r=k(),n=await Y.getInstance().getFile(r);d(`File ${r} loaded`,{data:n,state:o}),t(n)},Z=Le;var Oe=async e=>{let[{avatarUrl:o},t]=f();o||(async()=>{let{avatarUrl:n,login:i}=await _.getInstance().getUserInfo();t({children:[{tag:"img",src:n},{tag:"span",children:i}]})})()},ee=Oe;var Se={oauth:J,editor:W,preview:Z,userInfo:ee},oe=Se;var F={};ke(F,{Action:()=>L,Icon:()=>p,SlotMachine:()=>O,View:()=>u});var Ie=(e={})=>{let{className:o="",children:t,tag:r="button",onClick:n,type:i}=e,s=g();return setTimeout(()=>{n&&s.current?.addEventListener("click",n)}),`
      <${r} class="${o}" ref="${s}" type="${i}">
        ${t?.join("")}
      </${r}>
    `},L=Ie;var te=class{constructor(){this.id=null}toString(){let o=btoa(`${Math.ceil(Math.random()*1e13)+ +new Date}`).slice(10,18);return this.id=this.id||`ref-${o}`}get current(){return typeof window=="undefined"||typeof document=="undefined"?null:document.querySelector(`[ref=${this.id}]`)}},g=()=>new te,f=(e=void 0)=>typeof history=="undefined"?[]:[e||history.state||{},(o,t,r)=>history.pushState({...history.state,...o},t||"")],Ne={attributes:!0,childList:!0,subtree:!0},S=(e,o,t={component:"View"})=>r=>{let[n,i]=f(),{component:s="View"}=t;if(l("render",{eventType:o,component:s,state:n,props:t,event:r,typeof:typeof r,isArray:Array.isArray(r)}),r instanceof Error){E(r);return}let a=F[s||"View"];if(Array.isArray(r)){for(let w of r)S(e,o,t)(w);return}if(r instanceof MutationRecord&&r.type==="childList"){let w=[];$("A child node has been added or removed.",{target:r.target});return}if(r instanceof MutationRecord&&r.type==="attributes"){$(`The ${r.attributeName} attribute was modified.`,{event:r});return}if(!a)throw Error(`Component ${s} not found`);e?.current&&(e.current.innerHTML=a(n))},Me=async(e,o)=>{l("attachEvents",{ref:e,props:o});let t=new MutationObserver(S(e,"render",o));e.current&&t.observe(e.current,Ne),globalThis.navigation?.addEventListener("navigate",S(e,"navigate",o)),e.current.addEventListener("DOMRemoved",()=>{d("DOMRemoved"),globalThis.navigation?.removeEventListener("navigate",S(e,"navigate",o)),t.disconnect()})},Te=async(e,o)=>{l("runServices",{ref:e,props:o});let{services:t}=o,[r,n]=f();for(let i of t){let s=oe[i];if(!s)throw Error(`Service ${i} not found`);await s(e)}n({services:null})},re=(e={})=>{l({props:e});let{tag:o="div",className:t="",children:r=[],services:n=[],component:i="View",...s}=e,a=g(),[w,We]=f();setTimeout(async()=>{!a.current||(n?.length&&Me(a,e),n?.length&&Te(a,e))});let H=Array.isArray(r)?r.map(v=>v instanceof Object?re(v??{}):`${v}`).join?.(""):V(r),D=Object.entries(s)?.reduce?.((v,[fe,ue=""])=>`${v} ${fe}="${ue}"`,"");return l("Rendering",{content:H,restProps:D}),`
    <${o} class="${t}" ref="${a}" ${D}>
      ${H}
    </${o}>
  `},u=re;var ne=new Map;var Ce=({className:e,name:o}={name:"unknown"})=>{let t=g();return setTimeout(()=>{if(typeof window=="undefined"||typeof document=="undefined")return;let r=document.getElementById(`sprite-${o}`)?.getAttribute("viewBox")||"0 0 0 0";t.current?.setAttribute("viewBox",r)}),`
    <svg class="${e}" preserveAspectRatio="xMidYMid meet" viewBox="${ne.get(o)?.viewBox||"0 0 0 0"}" ref="${t}">
      <use xlink:href="#sprite-${o}" />
    </svg>
  `},p=Ce;var I=0,U=!1,b="",ie=[],A="\u{1F34F},\u{1F330},\u{1F34B},\u{1F345},\u{1F346},\u{1F347},\u{1F353},\u{1F349},\u{1F350},\u{1F352},\u{1F351},\u{1F951}".split(","),{floor:Pe,random:Fe}=Math,Ue=e=>e[Pe(Fe()*e.length)],q=()=>{if(U)return b;let[e,o,t]=[A,A,A].flatMap(Ue);if(b=`${e} ${o} ${t}`,l(`${I} ${b}`),e==o&&o==t){let r=`
            ${b}
    You won in ${I} tries`;U=!0,ie.push(()=>{setTimeout(()=>{d(r),alert(r),U=!1})}),I=0}else I++;return b},Ae=()=>{let e=g();return setTimeout(()=>{if(typeof window=="undefined")return;let o=new MutationObserver((t,r)=>{for(let n of t)if(n.type==="childList"){let i=ie.pop();i&&i()}});e.current&&o.observe(e.current,{childList:!0}),e.current?.addEventListener("click",()=>{!e.current||(e.current.innerHTML=q())}),document.addEventListener("keydown",t=>{t.isComposing||t.keyCode===229||t.which!==13&&t.which!==32||!e.current||(e.current.innerHTML=q())})}),`
    <div class="slot-machine">
      ${p({name:"slot-machine-icon",className:"slot-machine__icon"})}
      <span class="slot-machine__reels" ref="${e}">${q()}</span>
    </div>
  `},O=Ae;var qe={"image/webp":"webp","image/jpeg":"jpg","image/png":"png"},He={types:"",sizes:"",src:""},De=({types:e,sizes:o,src:t}=He)=>Object.entries(qe).filter(([r,n])=>e.includes(n)).flatMap(([r,n])=>`
    <source type="${r}" srcset="${o.split(",").map(i=>t.replace(new RegExp(`.(${e})$`),`_${i}.${n} ${i}w`))}" />
  `).join(""),Ke=e=>{if(!e)return"";let{src:o,ratio:t,sizes:r,types:n="png|webp",alt:i="",itemprop:s=""}=e,[a,w]=t.split(":");return`
    <picture>
      ${De({types:n,sizes:r,src:o})}
      <img src="${n.includes("webp")?o.replace(/\..*$/,".webp"):o}" width="${a}" height="${w}" alt="${i}" itemprop="${s}" />
    </picture>
  `},se=Ke;var pe=ae(),Be=()=>(setTimeout(()=>{$(pe)}),`
    <header class="header">
      <a href="#home" class="header__avatar" alt="avatar">${se({itemprop:"photo",src:"/images/artursjansons.jpg",ratio:"1:1",sizes:"432,216,64",types:"jpg|png|webp",alt:pe})}</a>
    </header>
  `),le=Be;var Ge=()=>`
    ${le()}
    <article lang="en">
      <section id="home" itemscope itemtype="https://schema.org/Person">
        <header>
          <h2 itemprop="name" class="h2">
            <span itemprop="givenName">Art\u016Brs</span>
            <span itemprop="familyName">Jansons</span>
          </h2>
          <span itemprop="jobTitle" class="subtitle">Software Developer</span>
          <br>
            <span itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
              <span itemprop="addressLocality">\u{1F1F7}\u{1F1FA} St.Petersburg, Russia</span>
            </span>
            <a href="callto:+79213900737"><i class="fa fa-whatsapp"></i><span itemprop="telephone">+7-921-39-00-737</span></a>
            <a href="mailto:artur.janson+github@yandex.ru?title=iegik.github.io:contact" itemprop="email">artur.janson@yandex.ru</a>
          ${y({squire:!0,children:[c({to:"https://linkedin.com/in/iegik",title:"LinkedIn",children:[p({name:"linkedin-icon",className:"link-list__icon"})]}),c({to:"https://github.com/iegik",title:"GitHub",children:[p({name:"github-icon",className:"link-list__icon"})]}),c({to:"https://profile.codersrank.io/user/iegik",title:"Coders Rank",children:[p({name:"codersrank-icon",className:"link-list__icon"})]}),c({to:"https://jsfiddle.net/user/iegik",title:"JSFiddle",children:[p({name:"jsfiddle-icon",className:"link-list__icon"})]}),c({to:"https://stackoverflow.com/users/771471/iegik",title:"Stack Overflow",children:[p({name:"stackoverflow-icon",className:"link-list__icon"})]})]})}
          <div class="network">
            ${c({to:"/login/",title:"Login",children:["\u{1F6AA}"]})}
          </div>
        </header>
      </section>
    </article>
    <footer>
      ${O()}
    </footer>
  `,de=Ge;var me="^[\\d\\w\\-\\.]+$",Pt=new RegExp(me);var ze=()=>{if(typeof document=="undefined"||typeof window=="undefined"||typeof window.sessionStorage=="undefined")return;let e=document.querySelector('[name="login"]');if(e.validity.valid===!1)return;let o=e?.value,t=btoa(`${+new Date}`).slice(10,18);window.sessionStorage?.setItem("state",t);let r=`https://github.com/login/oauth/authorize?client_id=${x}&login=${encodeURIComponent(o)}&scope=${encodeURIComponent(N)}&state=${t}`;d(`Navigated to ${r}`,{clientId:x,scope:N,state:t}),document.location.href=r},Ve=()=>`
    <div class="login">
      <form>
        <input type="text" name="login" placeholder="username" pattern="${me}" />
        ${L({className:"login__btn",children:["Login with ",p({name:"github-logo",className:"login__btn__icon"})],onClick:ze,type:"submit"})}
      </form>
    </div>
  `,ge=Ve;var Je=(e="/")=>{switch(d(`Loading ${e}`),!0){case/^\/login\/?$/.test(e):return ge();case/^\/oauth\/?$/.test(e):return u({children:["Loading..."],services:["oauth"]});case/^\/profile\/?$/.test(e):return u({children:["Loading..."],component:"UserInfo",className:"user-info",services:["userInfo"]});case/^\/editor\/?$/.test(e):return u({children:["Loading..."],services:["editor"]});case/^\/preview\/?$/.test(e):return u({children:["Loading..."],services:["preview"]});case(e==="/"||e===""):return de();default:throw Error(m)}},Xe=e=>{let{error:o}=e;E(o)},Qe=e=>{let o=k(e);if(typeof window!="undefined"&&window?.document){addEventListener("error",Xe);let t=document.getElementById("root");if(t==null)return;t.innerHTML=Je(o)}};Qe();})();
//# sourceMappingURL=router.min.js.map
