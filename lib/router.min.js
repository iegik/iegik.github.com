(()=>{var ve=Object.defineProperty;var $e=(e,o)=>()=>(o||(o={exports:{}},e(o.exports,o)),o.exports),be=(e,o)=>{for(var t in o)ve(e,t,{get:o[t],enumerable:!0})};var me=$e((St,de)=>{de.exports=`XOddodddddddodxxxxxxxdddxxxxxkxxxOKKKOdloo
M0ddodxxxxxdodkkkkkkkkkdddddxxxdd0NNNKxldo
MOdxdddddxxddoxkkkkkkOkkkkkkxxdddkWMMXkodd
MOddodxddxddxkkkxxkxoccldkkxxddodxNMMN0dlo
olclcdddxdodkOxol:,'....'';ccldxxdk000kdod
ccccoxxkdcc:;'''..............'.',;;;;;;;;
xxdxxxxd:,........'',,,,,'........dxxxxddd
kkkxxkkc'.....''''',;:c:;,'''''...llcc:ccl
kxkxxkx:...:ol::'',;cdxd:,'';cd:.:lllllllc
xxkxxddxl::O0kxdooddxOK0kxddxk0kdollllllll
odxxxdddxko0KXXKOkxOkkkkkkxkOKXKdoooolllll
ooodxxddx0xOK0kocclc;,,;:cl::oxOkoooolllll
oooooxxxxOOkOkdc;;;::::cc:,,;cxkxdoollllcl
ooooooddddooOkx:,:ldxOkOkxo:,lxdooolllllcc
ooooooooddooldoccdkkxoooxkkoloolloollllllc
dddl;,,,,;,'';,,;:okxlccxkdc;clllllllllllc
ddd:.............':ccc:col:'.':llllloolllc
dddd;,::;,............',,'...;loooolollllc
oodl;:::cc:;,'''... .... ...,looddolllllll
llcc:;:::::::;,,'''........:ooollooollllll
ccccc;,:c::;,'''',,,'...,''loooolllooolllc
`});var ye={"image/webp":"webp","image/jpeg":"jpg","image/png":"png"},Re={types:"",sizes:"",src:""},Ee=({types:e,sizes:o,src:t}=Re)=>Object.entries(ye).filter(([n,r])=>e.includes(r)).flatMap(([n,r])=>`
    <source type="${n}" srcset="${o.split(",").map(i=>t.replace(new RegExp(`.(${e})$`),`_${i}.${r} ${i}w`))}" />
  `).join(""),_e=e=>{if(!e)return"";let{src:o,ratio:t,sizes:n,types:r="png|webp",alt:i="",itemprop:s=""}=e,[c,x]=t.split(":"),p=+n.split(",")[0],l=p*+c,f=p*+x;return`
    <picture>
      ${Ee({types:r,sizes:n,src:o})}
      <img src="${r.includes("webp")?o.replace(/\..*$/,".webp"):o}" width="${l}" height="${f}" alt="${i}" itemprop="${s}" />
    </picture>
  `},z=_e;var Le=(e={})=>{let{className:o="",children:t,squire:n,tag:r="div"}=e,i="link-list";return o&&(i+=` ${o}`),n&&(i+=" link-list--squire"),`
      <${r} class="${i}">
        ${t?.map(s=>`<div class="link-list__item">${s}</div>`).join("")}
      </${r}>
    `},L=Le;var Oe=({message:e,children:o}={message:"Unknown error"})=>`
  <div class="error">
    <div class="card error__card">
      <p>${e}</p>
      ${L({children:o})}
    </div>
  </div>
`,b=Oe;var y=()=>{let{protocol:e,hash:o,pathname:t}=document.location;return`${t.replace("index.html","")}${o.slice(2)}`},V=e=>e.replace(/[&<"']/g,o=>{switch(o){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}});var v="ae0dcffd947e0ca15a12",O="user repo",W="Access token not provided",g="Page not found",P="Wrong request";var Se=async e=>{if(!e)return;m("Requesting access_token",{code:e,clientId:v});let{access_token:o,scope:t,token_type:n}=await fetch(`https://qilg4ch66b3vpgtevzccb5meum0ttfcl.lambda-url.eu-north-1.on.aws/?code=${e}&client_id=${v}`).then(r=>r.json());window.sessionStorage?.setItem("access_token",o),window.sessionStorage?.setItem("scope",t),window.sessionStorage?.setItem("token_type",n),document.location.href="/#/profile"},Ie=async e=>{let{protocol:o,hash:t,search:n}=location,r=window.sessionStorage?.getItem("state"),i=window.sessionStorage?.getItem("code");m("Checking GET params",{protocol:o,hash:t,search:n,state:r});let s=new URLSearchParams(n);if(s.get("state")!==r)return window.history?.go(-2);Se(s.get("code")||void 0)},J=Ie;var X=`query RepoFile($repo_owner: String!, $repo_name: String!, $object_path: String!) {
  repository(owner: $repo_owner, name: $repo_name) {
    object(expression: $object_path) {
      ... on Blob {
        byteSize
        text
      }
    }
  }
}
# {
#   "repo_name": "iegik.github.com",
#   "repo_owner": "iegik",
#   "object_path": "gh-pages: data/home.json"
# }`;var Q=`query GetUser($login:String!) {
  user(login: $login) {
    avatarUrl
    login
  }
}
`;var Te=async e=>{let{data:o,errors:t}=await e.json();if(t)throw t[0];return o},U=class{constructor(){this.repoName="iegik.github.com";this.repoOwner="iegik";this.storeRoot="gh-pages:data"}static getInstance(){return this.instance}async request({query:o,variables:t}){if(typeof window=="undefined")return;let n=window.sessionStorage?.getItem("access_token"),r=window.sessionStorage?.getItem("token_type"),i=await fetch("https://api.github.com/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`${r} ${n}`},body:JSON.stringify({query:o,variables:t})});return Te(i)}async getFile(o){let t=await this.request({query:X,variables:{repo_name:this.repoName,repo_owner:this.repoOwner,object_path:`${this.storeRoot}${o}.json`}});if(!t)throw Error(P);let{repository:{object:n}}=t;if(!n)throw Error(g);let{text:r}=n;return JSON.parse(r)}async getUserInfo(){let{user:o}=await this.request({query:Q,variables:{login:this.repoOwner}});if(!o)throw Error(P);return o}},F=U;F.instance=new U;var S=F;var Ne=async e=>{let[{isLoaded:o},t]=h();o||(async()=>{let r=y(),i=await S.getInstance().getFile(r);t({data:i,isLoaded:!0})})()},Y=Ne;var Me=e=>e.json(),q=class{constructor(){}static getInstance(){return this.instance}async request(o){let t=await fetch(`${location.protocol}//${location.host}/data${o}`,{headers:{"Content-Type":"application/json",Accept:"application/json"}});return Me(t)}async getFile(o){let t=await this.request(`${o}.json`);if(!t)throw Error(g);return t}},H=q;H.instance=new q;var Z=H;var Ce=async e=>{let[o={},t]=h();u("PreviewService",{state:o,setUserInfo:t});let n=y(),r=await Z.getInstance().getFile(n);u(`File ${n} loaded`,{data:r,state:o}),t(r)},ee=Ce;var je=async e=>{let[{avatarUrl:o},t]=h();o||(async()=>{let{avatarUrl:r,login:i}=await S.getInstance().getUserInfo();t({children:[{tag:"img",src:r},{tag:"span",children:i}]})})()},oe=je;var Pe={oauth:J,editor:Y,preview:ee,userInfo:oe},te=Pe;var G={};be(G,{Action:()=>I,Icon:()=>d,SlotMachine:()=>ie,View:()=>$});var Fe=(e={})=>{let{className:o="",children:t,tag:n="button",onClick:r,type:i}=e,s=k();return setTimeout(()=>{r&&s.current?.addEventListener("click",r)}),`
      <${n} class="${o}" ref="${s}" type="${i}">
        ${t?.join("")}
      </${n}>
    `},I=Fe;var ne=new Map;var He=({className:e,name:o}={name:"unknown"})=>{let t=k();return setTimeout(()=>{if(typeof window=="undefined"||typeof document=="undefined")return;let n=document.getElementById(`sprite-${o}`)?.getAttribute("viewBox")||"0 0 0 0";t.current?.setAttribute("viewBox",n)}),`
    <svg class="${e}" preserveAspectRatio="xMidYMid meet" viewBox="${ne.get(o)?.viewBox||"0 0 0 0"}" ref="${t}">
      <use xlink:href="#sprite-${o}" />
    </svg>
  `},d=He;var T=0,A=!1,R="",re=[],D="\u{1F34F},\u{1F330},\u{1F34B},\u{1F345},\u{1F346},\u{1F347},\u{1F353},\u{1F349},\u{1F350},\u{1F352},\u{1F351},\u{1F951}".split(","),{floor:qe,random:Ae}=Math,De=e=>e[qe(Ae()*e.length)],B=()=>{if(A)return R;let[e,o,t]=[D,D,D].flatMap(De);if(R=`${e} ${o} ${t}`,m(`${T} ${R}`),e==o&&o==t){let n=`
            ${R}
    You won in ${T} tries`;A=!0,re.push(()=>{setTimeout(()=>{u(n),alert(n),A=!1})}),T=0}else T++;return R},Be=()=>{let e=k();return setTimeout(()=>{if(typeof window=="undefined")return;let o=new MutationObserver((t,n)=>{for(let r of t)if(r.type==="childList"){let i=re.pop();i&&i()}});e.current&&o.observe(e.current,{childList:!0}),e.current?.addEventListener("click",()=>{!e.current||(e.current.innerHTML=B())}),document.addEventListener("keydown",t=>{t.isComposing||t.keyCode===229||t.which!==13&&t.which!==32||!e.current||(e.current.innerHTML=B())})}),`
    <div class="slot-machine">
      ${d({name:"slot-machine-icon",className:"slot-machine__icon"})}
      <span class="slot-machine__reels" ref="${e}">${B()}</span>
    </div>
  `},ie=Be;var se=class{constructor(){this.id=null}toString(){let o=btoa(`${Math.ceil(Math.random()*1e13)+ +new Date}`).slice(10,18);return this.id=this.id||`ref-${o}`}get current(){return typeof window=="undefined"||typeof document=="undefined"?null:document.querySelector(`[ref=${this.id}]`)}},k=()=>new se,h=(e=void 0)=>typeof history=="undefined"?[]:[e||history.state||{},(o,t,n)=>history.pushState({...history.state,...o},t||"")],Ge={attributes:!0,childList:!0,subtree:!0},M=(e,o,t={component:"View"})=>n=>{let[r,i]=h(),{component:s="View"}=t;if(m("render",{eventType:o,component:s,state:r,props:t,event:n,typeof:typeof n,isArray:Array.isArray(n)}),n instanceof Error){N(n);return}let c=G[s||"View"];if(Array.isArray(n)){for(let x of n)M(e,o,t)(x);return}if(n instanceof MutationRecord&&n.type==="childList"){let x=[];E("A child node has been added or removed.",{target:n.target});return}if(n instanceof MutationRecord&&n.type==="attributes"){E(`The ${n.attributeName} attribute was modified.`,{event:n});return}if(!c)throw Error(`Component ${s} not found`);e?.current&&(e.current.innerHTML=c(r))},Ke=async(e,o)=>{m("attachEvents",{ref:e,props:o});let t=new MutationObserver(M(e,"render",o));e.current&&t.observe(e.current,Ge),globalThis.navigation?.addEventListener("navigate",M(e,"navigate",o)),e.current.addEventListener("DOMRemoved",()=>{u("DOMRemoved"),globalThis.navigation?.removeEventListener("navigate",M(e,"navigate",o)),t.disconnect()})},ze=async(e,o)=>{m("runServices",{ref:e,props:o});let{services:t}=o,[n,r]=h();for(let i of t){let s=te[i];if(!s)throw Error(`Service ${i} not found`);await s(e)}r({services:null})},ce=(e={})=>{m({props:e});let{tag:o="div",className:t="",children:n=[],services:r=[],component:i="View",...s}=e,c=k(),[x,p]=h();setTimeout(async()=>{!c.current||(r?.length&&Ke(c,e),r?.length&&ze(c,e))});let l=Array.isArray(n)?n.map(w=>w instanceof Object?ce(w??{}):`${w}`).join?.(""):V(n),f=Object.entries(s)?.reduce?.((w,[j,_=""])=>`${w} ${j}="${_}"`,"");return m("Rendering",{content:l,restProps:f}),`
    <${o} class="${t}" ref="${c}" ${f}>
      ${l}
    </${o}>
  `},$=ce;var Ve=(e={})=>{let{className:o="link",children:t,tag:n="a",to:r="#",title:i="",onClick:s}=e,c=k();return setTimeout(()=>{s&&c.current&&c.current.addEventListener("click",s)}),`
      <${n} class="${o} link" href="${r}" title="${i}" ref="${c}">
        ${t?.join?.("")}
      </${n}>
    `},a=Ve;var ae=e=>b({message:e.message,children:[a({to:"#/login",title:"Go to login page",children:["Log in"]})]});var le=(e={message:g})=>b({message:e.message,children:[a({to:"#",title:"Go to home page",children:["Home"]}),a({onClick:()=>{history.go(-1)},title:"Go back",children:["Back"]})]});var pe=e=>b({message:e.message,children:[a({onClick:()=>{location.reload()},title:"Reload",children:["Reload"]}),a({onClick:()=>{history.go(-1)},title:"Go back",children:["Back"]})]});var C=!1,N=e=>{if(typeof window=="undefined")return;C&&typeof Sentry!="undefined"&&Sentry.captureException(e);let o=document.getElementById("root");if(o!=null){if(e.message===g){o.innerHTML=le(e);return}if(e.message===W){o.innerHTML=ae(e);return}o.innerHTML=pe(e)}},m=C?()=>{}:(...e)=>{console.debug(...e)};var u=C?()=>{}:(...e)=>{console.info(...e)},E=C?()=>{}:(...e)=>{console.log(...e)};var ue=me(),We=()=>(setTimeout(()=>{E(ue)}),`
    <header class="header">
      <a href="#home" class="header__avatar" alt="avatar">${z({itemprop:"photo",src:"/images/artursjansons.jpg",ratio:"1:1",sizes:"432,216,64",types:"jpg|png|webp",alt:ue})}</a>
    </header>
  `),ge=We;var Je=e=>()=>{if(typeof window=="undefined")return;let o=typeof window=="undefined"?!1:window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches===!0,t,n,r,i,s=16,c,x,p=document?.querySelector(e),l=document?.documentElement,f=p&&l&&Math.max(p.scrollWidth,p.offsetWidth,l.clientWidth,l.scrollWidth,l.offsetWidth),w=p&&l&&Math.max(p.scrollHeight,p.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight);t=n=r=i=0,f&&f>300&&addEventListener("mousemove",function(K){r=K.pageX,i=K.pageY});function j(){t-=.5,n-=5,!(w==null||f==null)&&(x=`${f/2-2762-r/(5*s)}px ${w-129+(20-i)/(10*s)}px, ${(t-r)/(10*s)}px 60%, ${(n-r)/s}px 40%`)}function _(){j(),!!p?.style&&(p.style.backgroundPosition=x,c&&window.cancelAnimationFrame(c),c=window.requestAnimationFrame(_))}!o&&_()},Xe=()=>(setTimeout(Je("#clouds")),`
    <div id="clouds"></div>
  `),fe=Xe;var Qe=()=>`
    ${fe()}
    ${ge()}
    <article lang="en">
      <section id="home" itemscope itemtype="https://schema.org/Person">
        <header>
          <h2 itemprop="name" class="h2">
            <span itemprop="givenName">Art\u016Brs</span>
            <span itemprop="familyName">Jansons</span>
          </h2>
          <span itemprop="jobTitle" class="subtitle">Software Developer</span>
          <br>
            
            
            
          ${L({squire:!0,children:[a({to:"https://linkedin.com/in/iegik",title:"LinkedIn",children:[d({name:"linkedin-icon",className:"link-list__icon"})]}),a({to:"https://github.com/iegik",title:"GitHub",children:[d({name:"github-icon",className:"link-list__icon"})]}),a({to:"https://profile.codersrank.io/user/iegik",title:"Coders Rank",children:[d({name:"codersrank-icon",className:"link-list__icon"})]}),a({to:"https://jsfiddle.net/user/iegik",title:"JSFiddle",children:[d({name:"jsfiddle-icon",className:"link-list__icon"})]}),a({to:"https://stackoverflow.com/users/771471/iegik",title:"Stack Overflow",children:[d({name:"stackoverflow-icon",className:"link-list__icon"})]})]})}
          
        </header>
      </section>
    </article>
    <footer>
      
    </footer>
  `,he=Qe;var ke="^[\\d\\w\\-\\.]+$",Kt=new RegExp(ke);var Ye=e=>{if(e.preventDefault(),typeof document=="undefined"||typeof window=="undefined"||typeof window.sessionStorage=="undefined")return;let o=document.querySelector('[name="login"]');if(o.validity.valid===!1)return;let t=o?.value,n=btoa(`${+new Date}`).slice(10,18);window.sessionStorage?.setItem("state",n);let r=`https://github.com/login/oauth/authorize?client_id=${v}&login=${encodeURIComponent(t)}&scope=${encodeURIComponent(O)}&state=${n}`;u(`Navigated to ${r}`,{clientId:v,scope:O,state:n}),window.location.href=r},Ze="6ab2aa6739207c957e9fad2b622d38e71979ca63";var eo="#/profile",oo=Ze,xe=eo,to=()=>(setTimeout(async()=>{if(typeof document=="undefined")return;let e=new URLSearchParams(window.location.search).get("code"),n=(await(await fetch("https://github.com/login/oauth/access_token",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({client_id:v,client_secret:oo,code:e,redirect_uri:xe})})).json()).access_token;history.pushState({clientId:v,scope:O,accessToken:n},"",xe)}),`
    <div class="login">
      <form>
        <input type="text" name="login" placeholder="username" pattern="${ke}" />
        ${I({className:"login__btn",children:["Login with ",d({name:"github-logo",className:"login__btn__icon"})],onClick:Ye,type:"submit"})}
      </form>
    </div>
  `),we=to;var no=(e="/")=>{switch(u(`Loading ${e}`),!0){case/^\/login\/?$/.test(e):return we();case/^\/oauth\/?$/.test(e):return $({children:["Loading..."],services:["oauth"]});case/^\/profile\/?$/.test(e):return $({children:["Loading..."],component:"View",className:"user-info",services:["userInfo"]});case/^\/editor\/?$/.test(e):return $({children:["Loading..."],services:["editor"]});case/^\/preview\/?$/.test(e):return $({children:["Loading..."],services:["preview"]});case(e==="/"||e===""):return he();default:throw Error(g)}},ro=e=>{let{error:o}=e;N(o)},io=()=>{let e=y();if(typeof window!="undefined"&&window?.document){addEventListener("error",ro);let o=document.getElementById("root");if(o==null)return;o.innerHTML=no(e)}};io();})();
//# sourceMappingURL=router.min.js.map
