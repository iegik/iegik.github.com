(()=>{var ie=(e={})=>{let{className:o="",children:t,squire:r,tag:n="div"}=e,i="link-list";return o&&(i+=` ${o}`),r&&(i+=" link-list--squire"),`
      <${n} class="${i}">
        ${t?.map(s=>`<div class="link-list__item">${s}</div>`).join("")}
      </${n}>
    `},w=ie;var ce=({message:e,children:o}={message:"Unknown error"})=>`
  <div class="error">
    <div class="card error__card">
      <p>${e}</p>
      ${w({children:o})}
    </div>
  </div>
`,g=ce;var ae=(e={})=>{let{className:o="link",children:t,tag:r="a",to:n="#",title:i="",onClick:s}=e,p=a();return setTimeout(()=>{s&&p.current&&p.current.addEventListener("click",s)}),`
      <${r} class="${o} link" href="${n}" title="${i}" ref="${p}">
        ${t?.join?.("")}
      </${r}>
    `},c=ae;var P=e=>g({message:e.message,children:[c({to:"#/login",title:"Go to login page",children:["Log in"]})]});var f="ae0dcffd947e0ca15a12",$="user repo",x="Access token not provided",l="Page not found",C="Wrong request";var M=(e={message:l})=>g({message:e.message,children:[c({to:"#",title:"Go to home page",children:["Home"]}),c({onClick:()=>{history.go(-1)},title:"Go back",children:["Back"]})]});var F=e=>g({message:e.message,children:[c({onClick:()=>{location.reload()},title:"Reload",children:["Reload"]}),c({onClick:()=>{history.go(-1)},title:"Go back",children:["Back"]})]});var y=!0,v=e=>{if(typeof window=="undefined")return;y&&typeof Sentry!="undefined"&&Sentry.captureException(e);let o=document.getElementById("root");if(o!=null){if(e.message===l){o.innerHTML=M(e);return}if(e.message===x){o.innerHTML=P(e);return}o.innerHTML=F(e)}},m=y?()=>{}:(...e)=>{console.debug(...e)};var O=y?()=>{}:(...e)=>{console.info(...e)};var u=e=>{let{protocol:o,hash:t,pathname:r}=new URL(`${e?.destination?.url||document.location}`);return`${r.replace("index.html","")}${t.slice(2)}`},K=e=>e.replace(/[&<"']/g,o=>{switch(o){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}});var pe=async e=>{if(!e)return;m("Requesting access_token",{code:e,clientId:f});let{access_token:o,scope:t,token_type:r}=await fetch(`https://qilg4ch66b3vpgtevzccb5meum0ttfcl.lambda-url.eu-north-1.on.aws/?code=${e}&client_id=${f}`).then(n=>n.json());window.sessionStorage?.setItem("access_token",o),window.sessionStorage?.setItem("scope",t),window.sessionStorage?.setItem("token_type",r),document.location.href="/#/profile"},le=async e=>{let{protocol:o,hash:t,search:r}=location,n=window.sessionStorage?.getItem("state"),i=window.sessionStorage?.getItem("code");m("Checking GET params",{protocol:o,hash:t,search:r,state:n});let s=new URLSearchParams(r);if(s.get("state")!==n)return window.history?.go(-2);pe(s.get("code")||void 0)},H=le;var q=`query RepoFile($repo_owner: String!, $repo_name: String!, $object_path: String!) {
  repository(owner: $repo_owner, name: $repo_name) {
    object(expression: $object_path) {
      ... on Blob {
        byteSize
        text
      }
    }
  }
}
# {
#   "repo_name": "iegik.github.com",
#   "repo_owner": "iegik",
#   "object_path": "gh-pages: data/home.json"
# }`;var de=async e=>{let{data:o,errors:t}=await e.json();if(t)throw t[0];return o},b=class{constructor(){this.repoName="iegik.github.com";this.repoOwner="iegik";this.storeRoot="gh-pages:data"}static getInstance(){return this.instance}async request({query:o,variables:t}){if(typeof window=="undefined")return;let r=window.sessionStorage?.getItem("access_token"),n=window.sessionStorage?.getItem("token_type"),i=await fetch("https://api.github.com/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`${n} ${r}`},body:JSON.stringify({query:o,variables:t})});return de(i)}async getFile(o){let t=await this.request({query:q,variables:{repo_name:this.repoName,repo_owner:this.repoOwner,object_path:`${this.storeRoot}${o}.json`}});if(!t)throw Error(C);let{repository:{object:r}}=t;if(!r)throw Error(l);let{text:n}=r;return JSON.parse(n)}},R=b;R.instance=new b;var A=R;var me=async e=>{let o=e.current;if(!o)return;o.focus();let t=u(),r=await A.getInstance().getFile(t);o.innerHTML=k(r)},U=me;var ge=e=>e.json(),E=class{constructor(){}static getInstance(){return this.instance}async request(o){let t=await fetch(`${location.protocol}//${location.host}/data${o}`,{headers:{"Content-Type":"application/json",Accept:"application/json"}});return ge(t)}async getFile(o){let t=await this.request(`${o}.json`);if(!t)throw Error(l);return t}},_=E;_.instance=new E;var D=_;var fe=async e=>{let o=e.current;if(!o)return;o.focus();let t=u(),r=await D.getInstance().getFile(t);o.innerHTML=k(r)},B=fe;var ue={oauth:H,editor:U,preview:B},G=ue;var z=class{constructor(){this.id=""}toString(){let o=btoa(`${Math.ceil(Math.random()*1e13)+ +new Date}`).slice(10,18);return this.id=this.id||`ref-${o}`}get current(){return typeof window=="undefined"||typeof document=="undefined"?null:document.querySelector(`[ref=${this.id}]`)}},a=()=>new z,X=({tag:e="div",className:o="",children:t=[],services:r=[],...n}={})=>{let i=a();return setTimeout(()=>{Promise.all(r?.map(s=>G[s]?.(i))).catch(s=>{v(s)})}),`
    <${e} class="${o}" ref="${i}" ${Object.entries(n)?.reduce?.((s,[p,h])=>`${s} ${p}="${h}"`,"")}>
      ${Array.isArray(t)?t.map(s=>s instanceof Object?X(s):`${s}`).join?.(""):K(t)}
    </${e}>
  `},k=X;var V=new Map;var he=({className:e,name:o}={name:"unknown"})=>{let t=a();return setTimeout(()=>{if(typeof window=="undefined"||typeof document=="undefined")return;let r=document.getElementById(`sprite-${o}`)?.getAttribute("viewBox")||"0 0 0 0";t.current?.setAttribute("viewBox",r)}),`
    <svg class="${e}" preserveAspectRatio="xMidYMid meet" viewBox="${V.get(o)?.viewBox||"0 0 0 0"}" ref="${t}">
      <use xlink:href="#sprite-${o}" />
    </svg>
  `},d=he;var L=0,S=!1,I="\u{1F34F},\u{1F330},\u{1F34B},\u{1F345},\u{1F346},\u{1F347},\u{1F353},\u{1F349},\u{1F350},\u{1F352},\u{1F351},\u{1F951}".split(","),{floor:we,random:xe}=Math,ve=e=>e[we(xe()*e.length)],T=()=>{if(S)return"";let[e,o,t]=[I,I,I].flatMap(ve);return e==o&&o==t?(S=!0,setTimeout(()=>{typeof window!="undefined"&&alert(`You won in ${L} tries`),S=!1},100),L=0):L++,`${e} ${o} ${t}`},Oe=()=>{let e=a();return setTimeout(()=>{e.current?.addEventListener("click",()=>{!e.current||(e.current.innerHTML=T())}),!(typeof window=="undefined"||typeof document=="undefined")&&document.addEventListener("keyup",o=>{o.isComposing||o.keyCode===229||o.which!==13&&o.which!==32||!e.current||(e.current.innerHTML=T())})}),`
    <div class="slot-machine">
      ${d({name:"slot-machine-icon",className:"slot-machine__icon"})}
      <span class="slot-machine__reels" ref="${e}">${T()}</span>
    </div>
  `},J=Oe;var $e={"image/webp":"webp","image/jpeg":"jpg","image/png":"png"},ye={types:"",sizes:"",src:""},Re=({types:e,sizes:o,src:t}=ye)=>Object.entries($e).filter(([r,n])=>e.includes(n)).flatMap(([r,n])=>`
    <source type="${r}" srcset="${o.split(",").map(i=>t.replace(new RegExp(`.(${e})$`),`_${i}.${n} ${i}w`))}" />
  `).join(""),be=e=>{if(!e)return"";let{src:o,ratio:t,sizes:r,types:n="png|webp",alt:i="",itemprop:s=""}=e,[p,h]=t.split(":");return`
    <picture>
      ${Re({types:n,sizes:r,src:o})}
      <img src="${n.includes("webp")?o.replace(/\..*$/,".webp"):o}" width="${p}" height="${h}" alt="${i}" itemprop="${s}" />
    </picture>
  `},Q=be;var Y=`                                                              
                                                              
                      .............                           
                  ..........  . ..........                    
               ............. ..............'.                 
             ..''......................''''''..               
            .'''.....'...',;;,,,;:;;:;,.........              
           .'..'''',,',,;:clcccoddoooooc;'......              
           .......,;'',cdxxdoxkkkkkxxxddl:.......             
           .....':ooodkkOOOOOOOOOkkkkxddoo:......             
           .  ..;lodxxkkOOOOOOOOOkkkxxdddoc,.....             
           .  ..;cldxxkkkOOOOOOOOOkkkkxxdol:.....             
            .   'lloxxkkOOOOOOOOOOOkkxxdoolc.....             
            .   ,loodoolllodxxkkxdo:,',,;:cl:.''              
             '. 'lol:;,....';okkd:'.'..'',cll,:c.             
             ,c.,lol:,;,':::cokOxccclloooddolc:l.             
             .doclodxxdddxxxddxOklodxkkkkkxdoccc.             
              loo:odkkkkOOOkdddOkooodxkkkkxdlcl'              
              .lxlldxkkOkxdoddxOOxdoclccloolc;,.              
               .;;lloddo::loc;:loc;;:lolc:lcc.                
                 .:lcc:;cloool:;;,;;:''ccolc,                 
                  .:ocollc,.:lloodolc,lldoc,                  
                    'llodddoccodooc:clldo:'                   
                     ;::ldddllcccccclodlc:                    
                    c:c:;:ldxxdddddxxxoc:lc..                 
                   .xllll:::lxxkkxxdol:ccxk,;:.               
                  'dkOkdodoc::::cc::::ccxOOd'lo:'..           
                .cdxO00K0kxxoocc::::cccdOOOklodddddolc;'..    
          ..':loddxxO00KKKKOxddooollcoO0OOOOddxxxxxxkkkkkkxdl:
     .';:odxxxxddxxkO0KKKKXXKOxoolcoOK000OOOkxxxxxxxkkkkkkkkOk
   .cddxxxkkxxxxxxxkO0KKKKXXXXX0dokKKKK00OO0OkkkkkkkkkOOOOOOOO
`;var _e=()=>`
    <header class="header">
      <a href="#home" class="header__avatar" alt="avatar">${Q({itemprop:"photo",src:"home/images/artursjansons.jpg",ratio:"1:1",sizes:"432,216,64",types:"jpg|png|webp",alt:Y})}</a>
    </header>
  `,W=_e;var Ee=()=>`
    ${W()}
    <article lang="en">
      <section id="home" itemscope itemtype="https://schema.org/Person">
        <header>
          <h2 itemprop="name" class="h2">
            <span itemprop="givenName">Art\u016Brs</span>
            <span itemprop="familyName">Jansons</span>
          </h2>
          <span itemprop="jobTitle" class="subtitle">Software Developer</span>
          <br>
            <span itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
              <span itemprop="addressLocality">\u{1F1F7}\u{1F1FA} St.Petersburg, Russia</span>
            </span>
            <a href="callto:+79213900737"><i class="fa fa-whatsapp"></i><span itemprop="telephone">+7-921-39-00-737</span></a>
            <a href="mailto:artur.janson+github@yandex.ru?title=iegik.github.io:contact" itemprop="email">artur.janson@yandex.ru</a>
          ${w({squire:!0,children:[c({to:"https://linkedin.com/in/iegik",title:"LinkedIn",children:[d({name:"linkedin-icon",className:"link-list__icon"})]}),c({to:"https://github.com/iegik",title:"GitHub",children:[d({name:"github-icon",className:"link-list__icon"})]}),c({to:"https://profile.codersrank.io/user/iegik",title:"Coders Rank",children:[d({name:"codersrank-icon",className:"link-list__icon"})]}),c({to:"https://jsfiddle.net/user/iegik",title:"JSFiddle",children:[d({name:"jsfiddle-icon",className:"link-list__icon"})]}),c({to:"https://stackoverflow.com/users/771471/iegik",title:"Stack Overflow",children:[d({name:"stackoverflow-icon",className:"link-list__icon"})]})]})}
          <div class="network">
            ${c({to:"/login/",title:"Login",children:["\u{1F6AA}"]})}
          </div>
        </header>
      </section>
    </article>
    <footer>
      ${J()}
    </footer>
  `,Z=Ee;var Le=(e={})=>{let{className:o="",children:t,tag:r="button",onClick:n,type:i}=e,s=a();return setTimeout(()=>{n&&s.current?.addEventListener("click",n)}),`
      <${r} class="${o}" ref="${s}" type="${i}">
        ${t?.join("")}
      </${r}>
    `},ee=Le;var oe="^[\\d\\w\\-\\.]+$",ct=new RegExp(oe);var Se=()=>{if(typeof document=="undefined"||typeof window=="undefined"||typeof window.sessionStorage=="undefined")return;let e=document.querySelector('[name="login"]');if(e.validity.valid===!1)return;let o=e?.value,t=btoa(`${+new Date}`).slice(10,18);window.sessionStorage?.setItem("state",t);let r=`https://github.com/login/oauth/authorize?client_id=${f}&login=${encodeURIComponent(o)}&scope=${encodeURIComponent($)}&state=${t}`;O(`Navigated to ${r}`,{clientId:f,scope:$,state:t}),document.location.href=r},Ie=()=>`
    <div class="login">
      <form>
        <input type="text" name="login" placeholder="username" pattern="${oe}" />
        ${ee({className:"login__btn",children:["Login with ",d({name:"github-logo",className:"login__btn__icon"})],onClick:Se,type:"submit"})}
      </form>
    </div>
  `,te=Ie;var re=({avatarUrl:e,login:o}={})=>{let t=a();return setTimeout(()=>{if(typeof window=="undefined")return;let r=window.sessionStorage?.getItem("access_token"),n=window.sessionStorage?.getItem("token_type"),i=async()=>{m("Requesting user",{accessToken:r,tokenType:n});let{avatar_url:s,login:p}=await fetch("https://api.github.com/user",{method:"GET",headers:{Authorization:`${n} ${r}`}}).then(h=>h.json());return m("User data",{avatarUrl:s,login:p}),{avatarUrl:s,login:p}};if(m({accessToken:r,tokenType:n}),!r)throw Error(x);o||i().then(s=>{t.current&&s.login&&(t.current.innerHTML=re(s))})}),`
    <div class="user-info" ref="${t}">
      ${e&&`<img src="${e}" />`}
      ${o&&`<span>${o}</span>`}
    </div>
  `},ne=re;var Te=()=>`
    <div class="login">
      ${ne()}
    </div>
  `,se=Te;var N=e=>k({children:["Loading..."],...e}),Ne=(e="/")=>{switch(O(`Loading ${e}`),!0){case/^\/login\/?$/.test(e):return te();case/^\/oauth\/?$/.test(e):return N({services:["oauth"]});case/^\/profile\/?$/.test(e):return se();case/^\/editor\/?$/.test(e):return N({services:["editor"]});case/^\/preview\/?$/.test(e):return N({services:["preview"]});case(e==="/"||e===""):return Z();default:throw Error(l)}},je=e=>{e.preventDefault();let{error:o}=e;v(o)},j=e=>{let o=u(e);if(typeof window!="undefined"&&window?.document){addEventListener("error",je);let t=document.getElementById("root");if(t==null)return;t.innerHTML=Ne(o)}};window.history.pushState=new Proxy(window.history.pushState,{apply:(e,o,t)=>(j(),e.apply(o,t))});navigation?.addEventListener("navigate",j);j();})();
//# sourceMappingURL=router.min.js.map
