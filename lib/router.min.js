(()=>{var me=(e={})=>{let{className:t="",children:o,squire:r,tag:s="div"}=e,n="link-list";return t&&(n+=` ${t}`),r&&(n+=" link-list--squire"),`
      <${s} class="${n}">
        ${o?.map(i=>`<div class="link-list__item">${i}</div>`).join("")}
      </${s}>
    `},$=me;var de=({message:e,children:t}={message:"Unknown error"})=>`
  <div class="error">
    <div class="card error__card">
      <p>${e}</p>
      ${$({children:t})}
    </div>
  </div>
`,u=de;var ge=(e={})=>{let{className:t="link",children:o,tag:r="a",to:s="#",title:n="",onClick:i}=e,g=d();return setTimeout(()=>{i&&g.current&&g.current.addEventListener("click",i)}),`
      <${r} class="${t} link" href="${s}" title="${n}" ref="${g}">
        ${o?.join?.("")}
      </${r}>
    `},a=ge;var H=e=>u({message:e.message,children:[a({to:"#/login",title:"Go to login page",children:["Log in"]})]});var h="ae0dcffd947e0ca15a12",_="user repo",D="Access token not provided",p="Page not found",O="Wrong request";var B=(e={message:p})=>u({message:e.message,children:[a({to:"#",title:"Go to home page",children:["Home"]}),a({onClick:()=>{history.go(-1)},title:"Go back",children:["Back"]})]});var G=e=>u({message:e.message,children:[a({onClick:()=>{location.reload()},title:"Reload",children:["Reload"]}),a({onClick:()=>{history.go(-1)},title:"Go back",children:["Back"]})]});var E=!1,x=e=>{if(typeof window=="undefined")return;E&&typeof Sentry!="undefined"&&Sentry.captureException(e);let t=document.getElementById("root");if(t!=null){if(e.message===p){t.innerHTML=B(e);return}if(e.message===D){t.innerHTML=H(e);return}t.innerHTML=G(e)}},L=E?()=>{}:(...e)=>{console.debug(...e)};var c=E?()=>{}:(...e)=>{console.info(...e)};var w=e=>{let{protocol:t,hash:o,pathname:r}=new URL(`${e?.destination?.url||document.location}`);return`${r.replace("index.html","")}${o.slice(2)}`},z=e=>e.replace(/[&<"']/g,t=>{switch(t){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}});var fe=async e=>{if(!e)return;L("Requesting access_token",{code:e,clientId:h});let{access_token:t,scope:o,token_type:r}=await fetch(`https://qilg4ch66b3vpgtevzccb5meum0ttfcl.lambda-url.eu-north-1.on.aws/?code=${e}&client_id=${h}`).then(s=>s.json());window.sessionStorage?.setItem("access_token",t),window.sessionStorage?.setItem("scope",o),window.sessionStorage?.setItem("token_type",r),document.location.href="/#/profile"},ue=async e=>{let{protocol:t,hash:o,search:r}=location,s=window.sessionStorage?.getItem("state"),n=window.sessionStorage?.getItem("code");L("Checking GET params",{protocol:t,hash:o,search:r,state:s});let i=new URLSearchParams(r);if(i.get("state")!==s)return window.history?.go(-2);fe(i.get("code")||void 0)},K=ue;var J=`query RepoFile($repo_owner: String!, $repo_name: String!, $object_path: String!) {
  repository(owner: $repo_owner, name: $repo_name) {
    object(expression: $object_path) {
      ... on Blob {
        byteSize
        text
      }
    }
  }
}
# {
#   "repo_name": "iegik.github.com",
#   "repo_owner": "iegik",
#   "object_path": "gh-pages: data/home.json"
# }`;var V=`query GetUser($login:String!) {
  user(login: $login) {
    avatarUrl
    login
  }
}
`;var he=async e=>{let{data:t,errors:o}=await e.json();if(o)throw o[0];return t},I=class{constructor(){this.repoName="iegik.github.com";this.repoOwner="iegik";this.storeRoot="gh-pages:data"}static getInstance(){return this.instance}async request({query:t,variables:o}){if(typeof window=="undefined")return;let r=window.sessionStorage?.getItem("access_token"),s=window.sessionStorage?.getItem("token_type"),n=await fetch("https://api.github.com/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`${s} ${r}`},body:JSON.stringify({query:t,variables:o})});return he(n)}async getFile(t){let o=await this.request({query:J,variables:{repo_name:this.repoName,repo_owner:this.repoOwner,object_path:`${this.storeRoot}${t}.json`}});if(!o)throw Error(O);let{repository:{object:r}}=o;if(!r)throw Error(p);let{text:s}=r;return JSON.parse(s)}async getUserInfo(){let t=await this.request({query:V,variables:{login:this.repoOwner}});if(!t)throw Error(O);return t}},S=I;S.instance=new I;var b=S;var we=async e=>{let[{isLoaded:t},o]=f();t||(async()=>{let s=w(),n=await b.getInstance().getFile(s);o({data:n,isLoaded:!0})})()},Q=we;var ve=e=>e.json(),T=class{constructor(){}static getInstance(){return this.instance}async request(t){let o=await fetch(`${location.protocol}//${location.host}/data${t}`,{headers:{"Content-Type":"application/json",Accept:"application/json"}});return ve(o)}async getFile(t){let o=await this.request(`${t}.json`);if(!o)throw Error(p);return o}},N=T;N.instance=new T;var X=N;var ke=async e=>{let[t={},o]=f();c("PreviewService",{state:t,setUserInfo:o});let r=w(),s=await X.getInstance().getFile(r);c(`File ${r} loaded`,{data:s,state:t}),o(s)},Y=ke;var $e=async e=>{let[{avatarUrl:t},o]=f();t||(async()=>{let{avatarUrl:s,login:n}=await b.getInstance().getUserInfo();o({children:[{tag:"img",src:s},{tag:"span",children:n}]})})()},W=$e;var xe={oauth:K,editor:Q,preview:Y,userInfo:W},Z=xe;var ee=class{constructor(){this.id=null}toString(){let t=btoa(`${Math.ceil(Math.random()*1e13)+ +new Date}`).slice(10,18);return this.id=this.id||`ref-${t}`}get current(){return typeof window=="undefined"||typeof document=="undefined"?null:document.querySelector(`[ref=${this.id}]`)}},d=()=>new ee,f=e=>typeof history=="undefined"?[]:[e||history.state,(t,o,r)=>history.pushState({...history.state,...t},o||"")],be={attributes:!0,childList:!0,subtree:!0},ye=(e,t)=>{for(let o of e)o.type==="childList"?console.log("A child node has been added or removed.",{ref:o.target.getAttribute("ref")}):o.type==="attributes"&&console.log(`The ${o.attributeName} attribute was modified.`)},j=(e={})=>{let{tag:t="div",className:o="",children:r=[],services:s=[],...n}=e,i=d(),[g,R]=f(),U=m=>{c("popstate",{state:m})};addEventListener("popstate",U),setTimeout(async()=>{let m=async()=>{c("ref",{ref:i,state:history.state,services:s});let k=new MutationObserver(ye);k.observe(i.current,be),i.current.addEventListener("DOMRemoved",()=>{c("DOMRemoved"),removeEventListener("popstate",U),k.disconnect()}),await Promise.all(s?.map(v=>Z[v]?.(i))).catch(v=>{x(v)}),R({services:null}),i.current.innerHTML=j(g)};s?.length&&m()});let q=Array.isArray(r)?r.map(m=>m instanceof Object?j(m):`${m}`).join?.(""):z(r),A=Object.entries(n)?.reduce?.((m,[k,v])=>`${m} ${k}="${v}"`,"");return c("Rendering",{content:q,restProps:A}),`
    <${t} class="${o}" ref="${i}" ${A}>
      ${q}
    </${t}>
  `},te=j;var oe=new Map;var _e=({className:e,name:t}={name:"unknown"})=>{let o=d();return setTimeout(()=>{if(typeof window=="undefined"||typeof document=="undefined")return;let r=document.getElementById(`sprite-${t}`)?.getAttribute("viewBox")||"0 0 0 0";o.current?.setAttribute("viewBox",r)}),`
    <svg class="${e}" preserveAspectRatio="xMidYMid meet" viewBox="${oe.get(t)?.viewBox||"0 0 0 0"}" ref="${o}">
      <use xlink:href="#sprite-${t}" />
    </svg>
  `},l=_e;var C=0,P=!1,M="\u{1F34F},\u{1F330},\u{1F34B},\u{1F345},\u{1F346},\u{1F347},\u{1F353},\u{1F349},\u{1F350},\u{1F352},\u{1F351},\u{1F951}".split(","),{floor:Oe,random:Ee}=Math,Le=e=>e[Oe(Ee()*e.length)],F=()=>{if(P)return"";let[e,t,o]=[M,M,M].flatMap(Le);return e==t&&t==o?(P=!0,setTimeout(()=>{typeof window!="undefined"&&alert(`You won in ${C} tries`),P=!1},100),C=0):C++,`${e} ${t} ${o}`},Se=()=>{let e=d();return setTimeout(()=>{e.current?.addEventListener("click",()=>{!e.current||(e.current.innerHTML=F())}),!(typeof window=="undefined"||typeof document=="undefined")&&document.addEventListener("keyup",t=>{t.isComposing||t.keyCode===229||t.which!==13&&t.which!==32||!e.current||(e.current.innerHTML=F())})}),`
    <div class="slot-machine">
      ${l({name:"slot-machine-icon",className:"slot-machine__icon"})}
      <span class="slot-machine__reels" ref="${e}">${F()}</span>
    </div>
  `},re=Se;var Ie={"image/webp":"webp","image/jpeg":"jpg","image/png":"png"},Ne={types:"",sizes:"",src:""},Te=({types:e,sizes:t,src:o}=Ne)=>Object.entries(Ie).filter(([r,s])=>e.includes(s)).flatMap(([r,s])=>`
    <source type="${r}" srcset="${t.split(",").map(n=>o.replace(new RegExp(`.(${e})$`),`_${n}.${s} ${n}w`))}" />
  `).join(""),je=e=>{if(!e)return"";let{src:t,ratio:o,sizes:r,types:s="png|webp",alt:n="",itemprop:i=""}=e,[g,R]=o.split(":");return`
    <picture>
      ${Te({types:s,sizes:r,src:t})}
      <img src="${s.includes("webp")?t.replace(/\..*$/,".webp"):t}" width="${g}" height="${R}" alt="${n}" itemprop="${i}" />
    </picture>
  `},se=je;var ne=`                                    
             ....                   
         ....... .........          
       ............'...'.'.         
       ..'.,',:lccodool;....        
      ....cclxOkkOOkkxdo:...        
      . .,ldxkOOOOOOkxxdl'..        
       . 'ldxxkkkkkkxolll:..        
       ..'oc;'.,:xkc''';cl;:.       
       .lcodoooddxkodxxxxoc:        
        ,dlxkOkxdxOxoooddl:.        
         .;loccol:c:;::clc.         
          .;lll::lolc;loc.          
            ;:odolllcooc.           
           ,lcccoxxxxdccd,'         
         .;xOOxdcc:::cckOoll:;'..   
    ..,:loxk0KK0kdolcdOOOkdxxxkkkxdl
  'ldxkxxxxk0KKXXKxoOK00OOkxkkkkOOOO
`;var Ce=()=>`
    <header class="header">
      <a href="#home" class="header__avatar" alt="avatar">${se({itemprop:"photo",src:"home/images/artursjansons.jpg",ratio:"1:1",sizes:"432,216,64",types:"jpg|png|webp",alt:ne})}</a>
    </header>
  `,ie=Ce;var Pe=()=>`
    ${ie()}
    <article lang="en">
      <section id="home" itemscope itemtype="https://schema.org/Person">
        <header>
          <h2 itemprop="name" class="h2">
            <span itemprop="givenName">Art\u016Brs</span>
            <span itemprop="familyName">Jansons</span>
          </h2>
          <span itemprop="jobTitle" class="subtitle">Software Developer</span>
          <br>
            <span itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
              <span itemprop="addressLocality">\u{1F1F7}\u{1F1FA} St.Petersburg, Russia</span>
            </span>
            <a href="callto:+79213900737"><i class="fa fa-whatsapp"></i><span itemprop="telephone">+7-921-39-00-737</span></a>
            <a href="mailto:artur.janson+github@yandex.ru?title=iegik.github.io:contact" itemprop="email">artur.janson@yandex.ru</a>
          ${$({squire:!0,children:[a({to:"https://linkedin.com/in/iegik",title:"LinkedIn",children:[l({name:"linkedin-icon",className:"link-list__icon"})]}),a({to:"https://github.com/iegik",title:"GitHub",children:[l({name:"github-icon",className:"link-list__icon"})]}),a({to:"https://profile.codersrank.io/user/iegik",title:"Coders Rank",children:[l({name:"codersrank-icon",className:"link-list__icon"})]}),a({to:"https://jsfiddle.net/user/iegik",title:"JSFiddle",children:[l({name:"jsfiddle-icon",className:"link-list__icon"})]}),a({to:"https://stackoverflow.com/users/771471/iegik",title:"Stack Overflow",children:[l({name:"stackoverflow-icon",className:"link-list__icon"})]})]})}
          <div class="network">
            ${a({to:"/login/",title:"Login",children:["\u{1F6AA}"]})}
          </div>
        </header>
      </section>
    </article>
    <footer>
      ${re()}
    </footer>
  `,ae=Pe;var Me=(e={})=>{let{className:t="",children:o,tag:r="button",onClick:s,type:n}=e,i=d();return setTimeout(()=>{s&&i.current?.addEventListener("click",s)}),`
      <${r} class="${t}" ref="${i}" type="${n}">
        ${o?.join("")}
      </${r}>
    `},ce=Me;var pe="^[\\d\\w\\-\\.]+$",xo=new RegExp(pe);var Fe=()=>{if(typeof document=="undefined"||typeof window=="undefined"||typeof window.sessionStorage=="undefined")return;let e=document.querySelector('[name="login"]');if(e.validity.valid===!1)return;let t=e?.value,o=btoa(`${+new Date}`).slice(10,18);window.sessionStorage?.setItem("state",o);let r=`https://github.com/login/oauth/authorize?client_id=${h}&login=${encodeURIComponent(t)}&scope=${encodeURIComponent(_)}&state=${o}`;c(`Navigated to ${r}`,{clientId:h,scope:_,state:o}),document.location.href=r},Ue=()=>`
    <div class="login">
      <form>
        <input type="text" name="login" placeholder="username" pattern="${pe}" />
        ${ce({className:"login__btn",children:["Login with ",l({name:"github-logo",className:"login__btn__icon"})],onClick:Fe,type:"submit"})}
      </form>
    </div>
  `,le=Ue;var y=e=>te({children:["Loading..."],...e}),qe=(e="/")=>{switch(c(`Loading ${e}`),!0){case/^\/login\/?$/.test(e):return le();case/^\/oauth\/?$/.test(e):return y({services:["oauth"]});case/^\/profile\/?$/.test(e):return y({component:"UserInfo",className:"user-info",services:["userInfo"]});case/^\/editor\/?$/.test(e):return y({services:["editor"]});case/^\/preview\/?$/.test(e):return y({services:["preview"]});case(e==="/"||e===""):return ae();default:throw Error(p)}},Ae=e=>{let{error:t}=e;x(t)},He=e=>{let t=w(e);if(typeof window!="undefined"&&window?.document){addEventListener("error",Ae);let o=document.getElementById("root");if(o==null)return;o.innerHTML=qe(t)}};He();})();
//# sourceMappingURL=router.min.js.map
