"use strict";(()=>{var ke=Object.defineProperty;var ve=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ye=(e,t)=>{for(var o in t)ke(e,o,{get:t[o],enumerable:!0})};var me=ve((bo,We)=>{We.exports=`00000OOOO0000KKXXXKKKXXNNNNXKKKXXXXNNNXX
OOOOOOOOOO0000KXXXXKKXNNXXXKKKKXNNNNNNNN
OOOOO0O000000KKKKKXXNNNNNNNXKKXNNNNNNNNN
NXXKXXKKKXXKXKKKKKKKXXXNXXXXXXNNNXNXXNXX
XXKKNXKXNNXXXKXXXKOkOO00KKXXXNNXXXXXXXXX
K00OOO0XNXK0000Oxl;:ccllox0KKXXKKKKKKKKK
llllllodxxkkkxdllclloxkdl:ldOOOOO0000000
cccccclccccccl:colcloooool::odddddxkOkkO
::;;;;;;;;;;;:clccccllllllo:llc::clodxkk
,,,,,;,,,,,,,;ccllccccccclod:o::::ccodxx
,,,,,,,,,,,,,,cl;',;c;'.',:odlc:c:cloddl
'''''',''''''';:,,,:lc:::cllllc;;;;;;;:;
'''''''''''''''cc:;cclc;,;:cc:;,,,,,,,,;
'''''..........,l;';;,,,,,,:l,;,,,,,,,,,
................,:;:;;;::;,;cc::,,,;;,,;
.............';:;Od;:;,;;,,::c;oK0ko:;,'
.....''':o000Kx;x0k;;,',,,::;..'00KKk:lk
ccc:;dOXNXXKK0,lkkk.,;;;;::;...,00OO0,.c
:;:OXXXKK0OOkk:OxkO...,,,,;....l0OOOOx..
clXXKKO0kxdxxlxxxkO'..',,,'....xxxkkxx: 
`});(()=>{if(typeof window>"u")return;document.write=window.write=()=>{},((t,o=[])=>Object.getOwnPropertyNames(t).forEach(r=>{let n=Object.prototype[r];o.includes(r)||Object.getOwnPropertyDescriptor(Object.prototype,r)?.configurable&&Object.defineProperty(Object.prototype,r,{configurable:!1,set:()=>{r!=="trace"&&console.trace(`Property "${r}" was changed in:`)},get:()=>n})}))(Object.prototype,["__proto__"]),window.satismeter=()=>{},window.requestAnimationFrame=window.requestAnimationFrame??(t=>{setTimeout(t)})})();var xe=(e={})=>{let{className:t="",children:o,squire:r,tag:n="div"}=e,i="link-list";return t&&(i+=` ${t}`),r&&(i+=" link-list--squire"),`
      <${n} class="${i}">
        ${o?.map(s=>`<div class="link-list__item">${s}</div>`).join("")}
      </${n}>
    `},_=xe;var Oe=({message:e,children:t}={message:"Unknown error"})=>`
  <div class="error">
    <div class="card error__card">
      <p>${e}</p>
      ${_({children:t})}
    </div>
  </div>
`,b=Oe;var be=(e={})=>{let{className:t="link",children:o,tag:r="a",to:n="#",title:i="",onClick:s}=e,c=$();return setTimeout(()=>{s&&c.current&&c.current.addEventListener("click",s)}),`
      <${r} class="${t} link" href="${n}" title="${i}" ref="${c}">
        ${o?.join?.("")}
      </${r}>
    `},d=be;var W=e=>b({message:e.message,children:[d({to:"#/login",title:"Go to login page",children:["Log in"]})]});var N="ae0dcffd947e0ca15a12",F="user repo",J="Access token not provided",w="Page not found",A="Wrong request";var Q=(e={message:w})=>b({message:e.message,children:[d({to:"#",title:"Go to home page",children:["Home"]}),d({onClick:()=>{history.go(-1)},title:"Go back",children:["Back"]})]});var Y=e=>b({message:e.message,children:[d({onClick:()=>{location.reload()},title:"Reload",children:["Reload"]}),d({onClick:()=>{history.go(-1)},title:"Go back",children:["Back"]})]});var L=!1,I=e=>{if(typeof window>"u")return;L&&typeof Sentry<"u"&&Sentry.captureException(e);let t=document.getElementById("root");if(t!=null){if(e.message===w){t.innerHTML=Q(e);return}if(e.message===J){t.innerHTML=W(e);return}t.innerHTML=Y(e)}},g=L?()=>{}:(...e)=>{console.debug(...e)};var h=L?()=>{}:(...e)=>{console.info(...e)},E=L?()=>{}:(...e)=>{console.log(...e)};var R=()=>{let{protocol:e,hash:t,pathname:o}=document.location;return`${o.replace("index.html","")}${t.slice(2)}`},Z=e=>e.replace(/[&<"']/g,t=>{switch(t){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}});var Ne=async e=>{if(!e)return;g("Requesting access_token",{code:e,clientId:N});let{access_token:t,scope:o,token_type:r}=await fetch(`https://qilg4ch66b3vpgtevzccb5meum0ttfcl.lambda-url.eu-north-1.on.aws/?code=${e}&client_id=${N}`).then(n=>n.json());window.sessionStorage?.setItem("access_token",t),window.sessionStorage?.setItem("scope",o),window.sessionStorage?.setItem("token_type",r),document.location.href="/#/profile"},Re=async e=>{if(typeof document>"u")return;let{protocol:t,hash:o,search:r}=document.location,n=window.sessionStorage?.getItem("state"),i=window.sessionStorage?.getItem("code");g("Checking GET params",{protocol:t,hash:o,search:r,state:n});let s=new URLSearchParams(r);if(s.get("state")!==n)return window.history?.go(-2);Ne(s.get("code")||void 0)},K=Re;var ee=`query RepoFile($repo_owner: String!, $repo_name: String!, $object_path: String!) {
  repository(owner: $repo_owner, name: $repo_name) {
    object(expression: $object_path) {
      ... on Blob {
        byteSize
        text
      }
    }
  }
}
# {
#   "repo_name": "iegik.github.com",
#   "repo_owner": "iegik",
#   "object_path": "gh-pages: data/home.json"
# }`;var te=`query GetUser($login:String!) {
  user(login: $login) {
    avatarUrl
    login
  }
}
`;var Se=async e=>{let{data:t,errors:o}=await e.json();if(o)throw o[0];return t},H=class e{constructor(){this.repoName="iegik.github.com";this.repoOwner="iegik";this.storeRoot="gh-pages:data"}static{this.instance=new e}static getInstance(){return this.instance}async request({query:t,variables:o}){if(typeof window>"u")return;let r=window.sessionStorage?.getItem("access_token"),n=window.sessionStorage?.getItem("token_type"),i=await fetch("https://api.github.com/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`${n} ${r}`},body:JSON.stringify({query:t,variables:o})});return Se(i)}async getFile(t){let o=await this.request({query:ee,variables:{repo_name:this.repoName,repo_owner:this.repoOwner,object_path:`${this.storeRoot}${t}.json`}});if(!o)throw Error(A);let{repository:{object:r}}=o;if(!r)throw Error(w);let{text:n}=r;return JSON.parse(n)}async getUserInfo(){let{user:t}=await this.request({query:te,variables:{login:this.repoOwner}});if(!t)throw Error(A);return t}},T=H;var _e=async e=>{let[{isLoaded:t},o]=k();t||(async()=>{let n=R(),i=await T.getInstance().getFile(n);o({data:i,isLoaded:!0})})()},oe=_e;var Le=e=>e.json(),U=class e{static{this.instance=new e}constructor(){}static getInstance(){return this.instance}async request(t){let o=await fetch(`${location.protocol}//${location.host}/data${t}`,{headers:{"Content-Type":"application/json",Accept:"application/json"}});return Le(o)}async getFile(t){let o=await this.request(`${t}.json`);if(!o)throw Error(w);return o}},re=U;var Ie=async e=>{let[t={},o]=k();h("PreviewService",{state:t,setUserInfo:o});let r=R(),n=await re.getInstance().getFile(r);h(`File ${r} loaded`,{data:n,state:t}),o(n)},ne=Ie;var Ke=async e=>{let[{variables:t},o]=k();t||(async()=>{let{avatarUrl:n,login:i}=await T.getInstance().getUserInfo();o({children:[{tag:"img",src:n},{tag:"span",children:i}],variables:{avatarUrl:n}})})()},ie=Ke;var Te={oauth:K,editor:oe,preview:ne,userInfo:ie},se=Te;var q={};ye(q,{Action:()=>C,Icon:()=>u,SlotMachine:()=>j,View:()=>x});var Ce=(e={})=>{let{className:t="",children:o,tag:r="button",onClick:n,type:i}=e,s=$();return setTimeout(()=>{n&&s.current?.addEventListener("click",n)}),`
      <${r} class="${t}" ref="${s}" type="${i}">
        ${o?.join("")}
      </${r}>
    `},C=Ce;var D=class{constructor(){this.id=null}toString(){let t=btoa(`${Math.ceil(Math.random()*1e13)+ +new Date}`).slice(10,18);return this.id=this.id||`ref-${t}`}get current(){return typeof window>"u"||typeof document>"u"?null:document.querySelector(`[ref=${this.id}]`)}},$=()=>new D,k=(e=void 0)=>typeof history>"u"?[]:[e||history.state||{},(t,o,r)=>history.pushState({...history.state,...t},o||"",r||location.href)],je={attributes:!0,childList:!0,subtree:!0},M=(e,t,o={component:"View"})=>r=>{let[n,i]=k(),{component:s="View"}=o;if(g("render",{eventType:t,component:s,state:n,props:o,event:r,typeof:typeof r,isArray:Array.isArray(r)}),r instanceof Error){I(r);return}let c=q[s||"View"];if(Array.isArray(r)){for(let p of r)M(e,t,o)(p);return}if(r instanceof MutationRecord&&r.type==="childList"){let p=[];E("A child node has been added or removed.",{target:r.target});return}if(r instanceof MutationRecord&&r.type==="attributes"){E(`The ${r.attributeName} attribute was modified.`,{event:r}),e.current&&(e.current.innerHTML=c(n));return}if(!c)throw Error(`Component ${s} not found`);e?.current&&(e.current.innerHTML=c(n))},Me=async(e,t)=>{g("attachEvents",{ref:e,props:t});let o=new MutationObserver(M(e,"render",t));e.current&&o.observe(e.current,je),navigation?.addEventListener("navigate",M(e,"navigate",t)),e?.current?.addEventListener("DOMRemoved",()=>{globalThis.hasOwnProperty("navigation")&&(h("DOMRemoved"),navigation?.removeEventListener("navigate",M(e,"navigate",t)),o.disconnect())})},Pe=async(e,t)=>{g("runServices",{ref:e,props:t});let{services:o}=t,[r,n]=k();if(o){for(let i of o){let s=se[i];if(!s)throw Error(`Service ${i} not found`);await s(e)}n({services:null})}},ce=(e={})=>{g({props:e});let{tag:t="div",className:o="",children:r=[],services:n=[],component:i="View",...s}=e,c=$(),[p,l]=k();setTimeout(async()=>{c.current&&(n?.length&&Me(c,e),n?.length&&Pe(c,e))});let a=Array.isArray(r)?r.map(f=>f instanceof Object?ce(f??{}):`${f}`).join?.(""):Z(r),m=Object.entries(s)?.reduce?.((f,[O,v=""])=>`${f} ${O}="${v}"`,"");return g("Rendering",{content:a,restProps:m}),`
    <${t} class="${o}" ref="${c}" ${m}>
      ${a}
    </${t}>
  `},x=ce;var ae=new Map;var Ae=({className:e,name:t}={name:"unknown"})=>{let o=$();return setTimeout(()=>{if(typeof window>"u"||typeof document>"u")return;let r=document.getElementById(`sprite-${t}`)?.getAttribute("viewBox")||"0 0 0 0";o.current?.setAttribute("viewBox",r)}),`
    <svg class="${e}" preserveAspectRatio="xMidYMid meet" viewBox="${ae.get(t)?.viewBox||"0 0 0 0"}" ref="${o}">
      <use xlink:href="#sprite-${t}" />
    </svg>
  `},u=Ae;var P=0,B=!1,S="",le=[],G="\u{1F34F},\u{1F330},\u{1F34B},\u{1F345},\u{1F346},\u{1F347},\u{1F353},\u{1F349},\u{1F350},\u{1F352},\u{1F351},\u{1F951}".split(","),{floor:He,random:Ue}=Math,qe=e=>e[He(Ue()*e.length)],z=()=>{if(B)return S;let[e,t,o]=[G,G,G].flatMap(qe);if(S=`${e} ${t} ${o}`,g(`${P} ${S}`),e==t&&t==o){let r=`
            ${S}
    You won in ${P} tries`;B=!0,le.push(()=>{setTimeout(()=>{h(r),alert(r),B=!1})}),P=0}else P++;return S},De=()=>{let e=$();return setTimeout(()=>{if(typeof window>"u")return;let t=new MutationObserver((o,r)=>{for(let n of o)if(n.type==="childList"){let i=le.pop();i&&i()}});e.current&&t.observe(e.current,{childList:!0}),e.current?.addEventListener("click",()=>{e.current&&(e.current.innerHTML=z())}),document.addEventListener("keydown",o=>{o.isComposing||o.keyCode===229||o.which!==13&&o.which!==32||e.current&&(e.current.innerHTML=z())})}),`
    <div class="slot-machine">
      ${u({name:"slot-machine-icon",className:"slot-machine__icon"})}
      <span class="slot-machine__reels" ref="${e}">${z()}</span>
    </div>
  `},j=De;var Be={"image/webp":"webp","image/jpeg":"jpg","image/png":"png"},Ge={types:"",sizes:"",src:""},ze=({types:e,sizes:t,src:o}=Ge)=>Object.entries(Be).filter(([r,n])=>e.includes(n)).flatMap(([r,n])=>`
    <source type="${r}" srcset="${t.split(",").map(i=>o.replace(new RegExp(`.(${e})$`),`_${i}.${n} ${i}w`))}" />
  `).join(""),Ve=e=>{if(!e)return"";let{src:t,ratio:o,sizes:r,types:n="png|webp",alt:i="",itemprop:s=""}=e,[c,p]=o.split(":"),l=+r.split(",")[0],a=l*+c,m=l*+p;return`
    <picture>
      ${ze({types:n,sizes:r,src:t})}
      <img src="${n.includes("webp")?t.replace(/\..*$/,".webp"):t}" width="${a}" height="${m}" alt="${i}" itemprop="${s}" />
    </picture>
  `},de=Ve;async function pe(e){let t=new Image;t.crossOrigin="Anonymous",t.src=e,await t.decode();let o=t.width,r=t.height,i=new OffscreenCanvas(o,r).getContext("2d");if(!i)return[];i.drawImage(t,0,0,o,r);let s=i.getImageData(0,0,o,r).data,c="\u2802\u2802\u2802\u2802\u2801\u2880\u2881\u2881\u288C\u288C\u2895\u2895\u2897\u2897\u289F\u289F\u28B7\u28B7\u28BF\u28BF",p=[],l=[];for(let a=0;a<r;a++){for(let m=0;m<o;m++){let f=(a*o+m)*4,O=s[f],v=s[f+1],X=s[f+2];if(s[f+3]===0)continue;let $e=(O+v+X)/3,V=Math.floor((1-$e/255)*10);p.push(c[V*2]+c[V*2+1]),l.push(`#${O.toString(16).padStart(2,"0")}${v.toString(16).padStart(2,"0")}${X.toString(16).padStart(2,"0")}`)}p[p.length-1]+=`
`}return[p.map(a=>`%c${a}`).join(""),...l.map(a=>`background-color: ${a};`)]}var Je=me(),Qe=()=>(setTimeout(async()=>{if(typeof window>"u"||typeof document>"u")return;let e=await pe("images/artursjansons_32.jpg");E(...e)}),`
    <header class="header">
      <a href="#/home" class="header__avatar" alt="avatar">${de({itemprop:"photo",src:"/images/artursjansons.jpg",ratio:"1:1",sizes:"432,216,64",types:"jpg|png|webp",alt:Je})}</a>
    </header>
  `),fe=Qe;var Ye=e=>()=>{if(typeof window>"u")return;let t=typeof window>"u"?!1:window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches===!0,o,r,n,i,s=16,c,p,l=document?.querySelector(e),a=document?.documentElement,m=l&&a&&Math.max(l.scrollWidth,l.offsetWidth,a.clientWidth,a.scrollWidth,a.offsetWidth),f=l&&a&&Math.max(l.scrollHeight,l.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight);o=r=n=i=0,m&&m>300&&addEventListener("mousemove",function(X){n=X.pageX,i=X.pageY});function O(){o-=.5,r-=5,!(f==null||m==null)&&(p=`${m/2-2762-n/(5*s)}px ${f-129+(20-i)/(10*s)}px, ${(o-n)/(10*s)}px 60%, ${(r-n)/s}px 40%`)}function v(){O(),l?.style&&(l.style.backgroundPosition=p,c&&window.cancelAnimationFrame(c),c=window.requestAnimationFrame(v))}!t&&v()},Ze=()=>(setTimeout(Ye("#clouds")),`
    <div id="clouds"></div>
  `),ue=Ze;var et=()=>`
    ${ue()}
    ${fe()}
    <article lang="en">
      <section id="home" itemscope itemtype="https://schema.org/Person">
        <header>
          <h2 itemprop="name" class="h2">
            <span itemprop="givenName">Art\u016Brs</span>
            <span itemprop="familyName">Jansons</span>
          </h2>
          <span itemprop="jobTitle" class="subtitle">Software Developer</span>
          <br>
            <span itemprop="address" itemscope itemtype="https://schema.org/PostalAddress"><span itemprop="addressLocality">\u{1F1F1}\u{1F1FB} Riga, Latvia</span></span>
            <a href="callto:+37126262109"><i class="fa fa-whatsapp"></i><span itemprop="telephone">+371 26262109</span></a>
            <a href="mailto:a.jansons+github@gmail.com?title=iegik.github.io:contact" itemprop="email">a.jansons@gmail.com</a>
          ${_({squire:!0,children:[d({to:"https://linkedin.com/in/iegik",title:"LinkedIn",children:[u({name:"linkedin-icon",className:"link-list__icon"})]}),d({to:"https://github.com/iegik",title:"GitHub",children:[u({name:"github-icon",className:"link-list__icon"})]}),d({to:"https://profile.codersrank.io/user/iegik",title:"Coders Rank",children:[u({name:"codersrank-icon",className:"link-list__icon"})]}),d({to:"https://jsfiddle.net/user/iegik",title:"JSFiddle",children:[u({name:"jsfiddle-icon",className:"link-list__icon"})]}),d({to:"https://stackoverflow.com/users/771471/iegik",title:"Stack Overflow",children:[u({name:"stackoverflow-icon",className:"link-list__icon"})]})]})}
          
        </header>
      </section>
    </article>
    <footer>
      ${j()}
    </footer>
  `,ge=et;var he="^[\\d\\w\\-\\.]+$",Ho=new RegExp(he);var tt=e=>{if(e.preventDefault(),typeof document>"u"||typeof window>"u"||typeof window.sessionStorage>"u")return;let t=document.querySelector('[name="login"]');if(t.validity.valid===!1)return;let o=t?.value,r=btoa(`${+new Date}`).slice(10,18);window.sessionStorage?.setItem("state",r);let n=`https://github.com/login/oauth/authorize?client_id=${N}&login=${encodeURIComponent(o)}&scope=${encodeURIComponent(F)}&state=${r}`;h(`Navigated to ${n}`,{clientId:N,scope:F,state:r}),window.location.href=n},ot=()=>(setTimeout(K),`
    <div class="login">
      <form>
        <input type="text" name="login" placeholder="username" pattern="${he}" />
        ${C({className:"login__btn",children:["Login with ",u({name:"github-logo",className:"login__btn__icon"})],onClick:tt,type:"submit"})}
      </form>
    </div>
  `),we=ot;var rt=(e="/")=>{switch(h(`Loading ${e}`),!0){case/^\/login\/?$/.test(e):return we();case/^\/oauth\/?$/.test(e):return x({children:["Loading..."],services:["oauth"]});case/^\/profile\/?$/.test(e):return x({children:["Loading..."],component:"View",className:"user-info",services:["userInfo"]});case/^\/editor\/?$/.test(e):return x({children:["Loading..."],services:["editor"]});case/^\/preview\/?$/.test(e):return x({children:["Loading..."],services:["preview"]});case(e==="/"||e===""||e==="/home"):return ge();default:throw Error(w)}},nt=e=>{let{error:t}=e;I(t)},it=()=>{let e=R();if(!(typeof window>"u")&&window?.document){addEventListener("error",nt);let t=document.getElementById("root");if(t==null)return;t.innerHTML=rt(e)}};it();})();
//# sourceMappingURL=router.min.js.map
